syntax = "proto3";

package network;

service Network {
    rpc CheckPort(CheckPortRequest) returns (CheckPortResponse);
    rpc ListPorts(ListPortsRequest) returns (ListPortsResponse);

    rpc OpenPort(OpenPortRequest) returns (OpenPortResponse);
    rpc ClosePort(ClosePortRequest) returns (ClosePortResponse);

    // Is this the corret
    rpc WatchPorts(WatchPortsRequest) returns (stream PortInfo);
    rpc WaitForPort(OpenPortRequest) returns (stream OpenPortResponse);
}



message ListPortsRequest {}

message ListPortsResponse {
    repeated PortInfo ports = 1;
}

message OpenPortRequest {
    uint32 port = 1;
}

message OpenPortResponse {
    bool success = 1;
}

message ClosePortRequest {
    uint32 port = 1;
}

message ClosePortResponse {
    bool success = 1;
}

message WatchPortsRequest {}

message PortInfo {
    uint32 port = 1;
    bool open = 2;
}

message CheckPortRequest {
    uint32 port = 1;
}

message CheckPortResponse {
    bool open = 1;
}
